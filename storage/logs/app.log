{"level":"local.info","ts":"[2025-01-12 10:55:49.260]","caller":"backend/main.go:16","msg":"log init success!"}
[2025-01-12 10:57:15.106]	local.info	backend/main.go:16	log init success!
[2025-01-12 12:42:08.284]	local.info	backend/main.go:14	log init success!
[2025-01-12 12:42:08.317]	local.error	bootstrap/db.go:47	sql connect failed, err:	{"err": "failed to connect to `user=avril database=`: /private/tmp/.s.PGSQL.5432 (/private/tmp): failed SASL auth: FATAL: password authentication failed for user \"avril\" (SQLSTATE 28P01)"}
[2025-01-12 12:45:15.802]	local.info	backend/main.go:14	log init success!
[2025-01-12 12:45:15.810]	local.error	bootstrap/db.go:49	sql connect failed, err:	{"err": "failed to connect to `user=avril database=`: /private/tmp/.s.PGSQL.5432 (/private/tmp): failed SASL auth: FATAL: password authentication failed for user \"avril\" (SQLSTATE 28P01)"}
[2025-01-12 12:47:47.883]	local.info	backend/main.go:14	log init success!
[2025-01-12 16:45:16.502]	local.info	backend/main.go:14	log init success!
[2025-01-13 12:11:15.136]	local.info	backend/main.go:14	log init success!
[2025-01-13 13:02:04.556]	local.info	backend/main.go:14	log init success!
[2025-01-13 13:11:13.866]	local.info	backend/main.go:14	log init success!
[2025-01-13 13:15:24.810]	local.info	backend/main.go:14	log init success!
[2025-01-13 13:18:37.519]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:04:32.134]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:19:40.220]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:20:47.187]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:21:51.155]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:23:42.098]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:29:19.456]	local.info	backend/main.go:14	log init success!
[2025-01-13 16:30:33.014]	local.info	backend/main.go:14	log init success!


[31m2025/01/13 16:30:49 [Recovery] 2025/01/13 - 16:30:49 panic recovered:
POST /api/auth/google HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 1197
Content-Type: application/json
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


value method chatbot-backend/app/models.User.GetUid called using nil *User pointer
/usr/local/go/src/runtime/error.go:355 (0x10260ae2f)
	panicwrap: panic(plainError("value method " + pkg + "." + typ + "." + meth + " called using nil *" + typ + " pointer"))
<autogenerated>:1 (0x102b767e7)
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/jwt.go:70 (0x102fb4c13)
	(*jwtService).CreateToken: Id:        user.GetUid(),
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/user.go:22 (0x102fb5da3)
	Login: tokenData, err, _ := services.JwtService.CreateToken(user)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x102e4d3ab)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x102e4d38c)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x102e4c717)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x102e4c6f4)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x102e4bb53)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x102e4b6dc)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x102e4b303)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x1028fe3eb)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x1028df68b)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x102676993)
	goexit: MOVD	R0, R0	// NOP
[0m
[2025-01-13 17:47:01.599]	local.info	backend/main.go:14	log init success!
[2025-01-13 17:48:48.771]	local.info	backend/main.go:14	log init success!


[31m2025/01/13 17:49:12 [Recovery] 2025/01/13 - 17:49:12 panic recovered:
POST /api/auth/google HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 1197
Content-Type: application/json
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


value method chatbot-backend/app/models.User.GetUid called using nil *User pointer
/usr/local/go/src/runtime/error.go:355 (0x102522e2f)
	panicwrap: panic(plainError("value method " + pkg + "." + typ + "." + meth + " called using nil *" + typ + " pointer"))
<autogenerated>:1 (0x102a8e7e7)
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/jwt.go:70 (0x102eccc13)
	(*jwtService).CreateToken: Id:        user.GetUid(),
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/user.go:22 (0x102ecdde3)
	Login: tokenData, err, _ := services.JwtService.CreateToken(user)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x102d653ab)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x102d6538c)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x102d64717)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x102d646f4)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x102d63b53)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x102d636dc)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x102d63303)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x1028163eb)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x1027f768b)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x10258e993)
	goexit: MOVD	R0, R0	// NOP
[0m
[2025-01-13 17:50:00.809]	local.info	backend/main.go:14	log init success!
[2025-01-13 17:51:02.489]	local.info	backend/main.go:14	log init success!
[2025-01-13 17:54:00.033]	local.info	backend/main.go:14	log init success!
[2025-01-14 08:46:36.796]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:07:32.641]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:28:07.304]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:33:57.096]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:49:05.192]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:55:07.619]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:56:28.942]	local.info	backend/main.go:14	log init success!
[2025-01-16 14:57:29.975]	local.info	backend/main.go:14	log init success!
[2025-01-16 15:00:11.743]	local.info	backend/main.go:14	log init success!
[2025-01-16 18:08:06.743]	local.info	backend/main.go:14	log init success!


[31m2025/01/16 18:10:30 [Recovery] 2025/01/16 - 18:10:30 panic recovered:
POST /api/send HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Authorization: *
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 16
Content-Type: application/json
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x102c9472f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x102c946fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/github.com/sashabaranov/go-openai@v1.36.1/client.go:126 (0x103482fe4)
	(*Client).sendRequest: res, err := c.config.HTTPClient.Do(req)
/Users/avril/go/pkg/mod/github.com/sashabaranov/go-openai@v1.36.1/chat.go:407 (0x103482987)
	(*Client).CreateChatCompletion: err = c.sendRequest(req, &response)
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/openai.go:36 (0x1035dd6f7)
	(*openAI).SendMessage: 
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/chat.go:20 (0x1035de683)
	SendMsg: res, err := services.OpenAI.SendMessage(form)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1034713eb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x1034713cc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x103470757)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x103470734)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10346fb93)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10346f71c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x10346f343)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x102f2235b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x102f035fb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x102c9a993)
	goexit: MOVD	R0, R0	// NOP
[0m
[2025-01-16 18:17:43.200]	local.info	backend/main.go:14	log init success!


[31m2025/01/16 18:17:55 [Recovery] 2025/01/16 - 18:17:55 panic recovered:
POST /api/send HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Authorization: *
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 15
Content-Type: application/json
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x10099c72f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x10099c6fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/github.com/sashabaranov/go-openai@v1.36.1/client.go:126 (0x10118afe4)
	(*Client).sendRequest: res, err := c.config.HTTPClient.Do(req)
/Users/avril/go/pkg/mod/github.com/sashabaranov/go-openai@v1.36.1/chat.go:407 (0x10118a987)
	(*Client).CreateChatCompletion: err = c.sendRequest(req, &response)
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/openai.go:37 (0x1012e56f7)
	(*openAI).SendMessage: resp, err := client.CreateChatCompletion(
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/chat.go:20 (0x1012e6683)
	SendMsg: res, err := services.OpenAI.SendMessage(form)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1011793eb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x1011793cc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x101178757)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x101178734)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x101177b93)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10117771c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x101177343)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x100c2a35b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x100c0b5fb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x1009a2993)
	goexit: MOVD	R0, R0	// NOP
[0m
[2025-01-16 18:18:30.208]	local.info	backend/main.go:14	log init success!
[2025-01-16 18:25:15.706]	local.info	backend/main.go:14	log init success!
[2025-01-16 18:28:12.089]	local.info	backend/main.go:14	log init success!
[2025-01-16 19:45:38.611]	local.info	backend/main.go:14	log init success!
[2025-01-16 19:57:58.669]	local.info	backend/main.go:14	log init success!
[2025-01-16 19:58:04.659]	local.error	bootstrap/db.go:70	migrate table failed	{"err": "invalid field found for struct chatbot-backend/app/models.Chat's field User: define a valid foreign key for relations or implement the Valuer/Scanner interface"}
[2025-01-16 20:02:21.146]	local.info	backend/main.go:14	log init success!
[2025-01-16 20:02:27.004]	local.error	bootstrap/db.go:70	migrate table failed	{"err": "invalid field found for struct chatbot-backend/app/models.Chat's field User: define a valid foreign key for relations or implement the Valuer/Scanner interface"}
[2025-01-16 20:04:47.799]	local.info	backend/main.go:14	log init success!
[2025-01-16 20:04:53.851]	local.error	bootstrap/db.go:70	migrate table failed	{"err": "invalid field found for struct chatbot-backend/app/models.Chat's field User: define a valid foreign key for relations or implement the Valuer/Scanner interface"}
[2025-01-16 20:08:44.491]	local.info	backend/main.go:14	log init success!
[2025-01-16 20:11:15.492]	local.error	bootstrap/db.go:51	sql connect failed, err:	{"err": "failed to connect to `user=root database=chatbot`: 14.103.165.126:5432 (14.103.165.126): failed to receive message: timeout: read tcp 192.168.166.110:55898->14.103.165.126:5432: read: operation timed out"}


[31m2025/01/16 20:11:24 [Recovery] 2025/01/16 - 20:11:24 panic recovered:
POST /api/chat-list HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Authorization: *
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 0
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x100a3072f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x100a306fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/gorm.go:406 (0x100f21258)
	(*DB).getInstance: if db.clone > 0 {
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/chainable_api.go:208 (0x100f1858f)
	(*DB).Where: tx = db.getInstance()
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/chat.go:21 (0x10137998f)
	(*chatService).GetChatListByUID: err = global.App.DB.Where("u_id = ?", intID).Order("updated_at DESC").Find(&chats).Error
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/chat.go:13 (0x10137b637)
	GetChatList: if chats, err := services.ChatServices.GetChatListByUID(c.Keys["id"].(string)); err != nil {
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120dbfb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x10120dbdc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120cf67)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x10120cf44)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120c3a3)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10120bf2c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x10120bb53)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x100cbe84b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x100c9faeb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x100a36993)
	goexit: MOVD	R0, R0	// NOP
[0m


[31m2025/01/16 20:11:24 [Recovery] 2025/01/16 - 20:11:24 panic recovered:
POST /api/auth/info HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Authorization: *
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 0
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x100a3072f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x100a306fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/gorm.go:406 (0x100f21258)
	(*DB).getInstance: if db.clone > 0 {
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/chainable_api.go:344 (0x100f1933f)
	(*DB).Limit: tx = db.getInstance()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/finisher_api.go:119 (0x100f1a537)
	(*DB).First: tx = db.Limit(1).Order(clause.OrderByColumn{
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/user.go:51 (0x10137aceb)
	(*userService).GetUserInfo: err = global.App.DB.First(&user, intID).Error
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/user.go:44 (0x10137c207)
	Info: if user, err := services.UserService.GetUserInfo(c.Keys["id"].(string)); err != nil {
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120dbfb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x10120dbdc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120cf67)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x10120cf44)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120c3a3)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10120bf2c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x10120bb53)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x100cbe84b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x100c9faeb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x100a36993)
	goexit: MOVD	R0, R0	// NOP
[0m


[31m2025/01/16 20:11:33 [Recovery] 2025/01/16 - 20:11:33 panic recovered:
POST /api/chat-list HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Authorization: *
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 0
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x100a3072f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x100a306fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/gorm.go:406 (0x100f21258)
	(*DB).getInstance: if db.clone > 0 {
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/chainable_api.go:208 (0x100f1858f)
	(*DB).Where: tx = db.getInstance()
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/chat.go:21 (0x10137998f)
	(*chatService).GetChatListByUID: err = global.App.DB.Where("u_id = ?", intID).Order("updated_at DESC").Find(&chats).Error
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/chat.go:13 (0x10137b637)
	GetChatList: if chats, err := services.ChatServices.GetChatListByUID(c.Keys["id"].(string)); err != nil {
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120dbfb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x10120dbdc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120cf67)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x10120cf44)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120c3a3)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10120bf2c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x10120bb53)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x100cbe84b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x100c9faeb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x100a36993)
	goexit: MOVD	R0, R0	// NOP
[0m


[31m2025/01/16 20:11:33 [Recovery] 2025/01/16 - 20:11:33 panic recovered:
POST /api/auth/info HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Authorization: *
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 0
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x100a3072f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x100a306fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/gorm.go:406 (0x100f21258)
	(*DB).getInstance: if db.clone > 0 {
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/chainable_api.go:344 (0x100f1933f)
	(*DB).Limit: tx = db.getInstance()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/finisher_api.go:119 (0x100f1a537)
	(*DB).First: tx = db.Limit(1).Order(clause.OrderByColumn{
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/user.go:51 (0x10137aceb)
	(*userService).GetUserInfo: err = global.App.DB.First(&user, intID).Error
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/user.go:44 (0x10137c207)
	Info: if user, err := services.UserService.GetUserInfo(c.Keys["id"].(string)); err != nil {
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120dbfb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x10120dbdc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120cf67)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x10120cf44)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120c3a3)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10120bf2c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x10120bb53)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x100cbe84b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x100c9faeb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x100a36993)
	goexit: MOVD	R0, R0	// NOP
[0m


[31m2025/01/16 20:11:43 [Recovery] 2025/01/16 - 20:11:43 panic recovered:
POST /api/auth/google HTTP/1.1
Host: localhost:8888
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: zh-CN,zh;q=0.9,ko;q=0.8,en;q=0.7
Cache-Control: no-cache
Connection: keep-alive
Content-Length: 1197
Content-Type: application/json
Origin: http://localhost:5173
Pragma: no-cache
Referer: http://localhost:5173/
Sec-Ch-Ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:262 (0x100a3072f)
	panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:917 (0x100a306fc)
	sigpanic: panicmem()
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/gorm.go:406 (0x100f21258)
	(*DB).getInstance: if db.clone > 0 {
/Users/avril/go/pkg/mod/gorm.io/gorm@v1.25.12/chainable_api.go:208 (0x100f1858f)
	(*DB).Where: tx = db.getInstance()
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/services/user.go:30 (0x10137a93b)
	(*userService).Login: var result = global.App.DB.Where("g_id = ?", payload.Claims["aud"].(string)).First(&user)
/Users/avril/NEU-projects/INFO5100/chatbot/backend/app/controllers/app/user.go:20 (0x10137be63)
	Login: if user, err := services.UserService.Login(form); err != nil {
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120dbfb)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0x10120dbdc)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120cf67)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0x10120cf44)
	LoggerWithConfig.func1: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x10120c3a3)
	(*Context).Next: c.handlers[c.index](c)
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0x10120bf2c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/avril/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0x10120bb53)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3210 (0x100cbe84b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2092 (0x100c9faeb)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x100a36993)
	goexit: MOVD	R0, R0	// NOP
[0m
[2025-01-16 20:12:29.333]	local.info	backend/main.go:14	log init success!
